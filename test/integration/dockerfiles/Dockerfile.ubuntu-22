FROM ubuntu:22.04

# Set environment variables for non-interactive installation
ENV DEBIAN_FRONTEND=noninteractive \
  TZ=America/New_York \
  LANG=en_US.UTF-8 \
  LC_ALL=en_US.UTF-8

# Pre-configure timezone data to prevent prompts
RUN ln -snf /usr/share/zoneinfo/$TZ /etc/localtime && \
  echo $TZ > /etc/timezone

# Install base dependencies
RUN apt-get update && \
  apt-get install -y --no-install-recommends \
  git \
  curl \
  sudo \
  ca-certificates \
  bats \
  && apt-get clean && \
  rm -rf /var/lib/apt/lists/*

# Set working directory
WORKDIR /workspace

# Default command (will be overridden by docker-compose)
CMD ["/bin/bash"]
